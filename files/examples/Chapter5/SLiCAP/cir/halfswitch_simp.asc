Version 4
SHEET 1 1084 680
WIRE -16 -144 -160 -144
WIRE -16 -96 -16 -144
WIRE -16 0 -16 -16
WIRE -416 64 -496 64
WIRE -352 64 -416 64
WIRE -304 64 -352 64
WIRE -272 64 -304 64
WIRE -160 64 -192 64
WIRE -112 64 -160 64
WIRE -48 64 -48 48
WIRE -48 64 -112 64
WIRE 32 96 32 48
WIRE 64 96 32 96
WIRE 112 96 64 96
WIRE 144 96 112 96
WIRE 256 96 224 96
WIRE 288 96 256 96
WIRE 352 96 288 96
WIRE 400 96 352 96
WIRE 592 96 400 96
WIRE 608 96 592 96
WIRE -16 144 -16 48
WIRE -16 160 -16 144
WIRE -48 272 -48 64
WIRE 32 272 32 96
FLAG 64 96 out
FLAG -416 144 0
FLAG -352 64 source
FLAG 400 176 0
FLAG -496 144 0
FLAG -16 224 0
FLAG -16 -144 v1a
FLAG -160 -64 0
FLAG -304 144 0
FLAG -160 144 0
FLAG 112 176 0
FLAG 256 176 0
FLAG -112 144 0
FLAG 288 176 0
FLAG 352 96 out2
FLAG 592 176 0
SYMBOL SLR 400 96 R0
SYMATTR InstName R1
SYMATTR Value {R_L}
SYMBOL SLM -16 0 R90
SYMATTR InstName M1
SYMATTR SpiceModel myNMOS
SYMBOL SLR_r -416 64 R0
SYMATTR InstName R3
SYMATTR Value {R_S}
SYMATTR SpiceLine ""
SYMBOL SLI -496 144 R180
WINDOW 0 41 24 Left 2
WINDOW 3 41 8 Left 2
WINDOW 123 41 -28 Left 2
WINDOW 39 41 -4 Left 2
WINDOW 40 41 -16 Left 2
SYMATTR InstName I1
SYMBOL res -32 128 R0
SYMATTR InstName R2
SYMATTR Value {R_b}
SYMBOL res -32 -112 R0
SYMATTR InstName R4
SYMATTR Value {R_b}
SYMBOL SLL -48 272 R90
WINDOW 0 0 -40 VBottom 2
WINDOW 3 8 -40 VTop 2
WINDOW 123 20 -40 VTop 2
SYMATTR InstName L2
SYMATTR Value {L}
SYMBOL SLV -160 -144 R0
SYMATTR InstName V1
SYMBOL SLABCD -224 48 R0
SYMATTR InstName U1
SYMATTR Value ""
SYMBOL SLABCD 192 80 R0
WINDOW 3 -8 148 Center 2
SYMATTR Value A={A2} B={B2} C={C2} D={D2}
SYMATTR InstName U2
SYMBOL SLL -112 144 R0
SYMATTR InstName L1
SYMATTR Value {L1}
SYMBOL SLL 288 176 R0
SYMATTR InstName L3
SYMATTR Value {L2}
SYMBOL SLI 592 176 R180
WINDOW 0 41 24 Left 2
WINDOW 3 41 8 Left 2
WINDOW 123 41 -28 Left 2
WINDOW 39 41 -4 Left 2
WINDOW 40 41 -16 Left 2
SYMATTR InstName I2
TEXT -592 272 Left 2 !.model myNMOS  M gm={g_m} cgs={c_gs} cgb={c_gb} cdg={c_dg} cdb={c_db} go={g_o}
TEXT -632 296 Left 2 !.param R_S=10G R_L=10k R_f=50 R_b=1.5k Z1=50 T1=10n Z2=50 T2=10n L=1n R7_comp=50 R8_comp=50
TEXT -592 320 Left 2 !.model myNMOS2  M gm={g_mp} cgs={c_gsp} cgb={c_gbp} cdg={c_dgp} cdb={c_dbp} go={g_op}
